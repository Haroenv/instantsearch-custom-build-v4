/*! InstantSearch.js 4.0.0-beta.0-ouestfrance | Â© Algolia, Inc. and contributors; MIT License | https://github.com/algolia/instantsearch.js */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).instantsearch=t()}(this,function(){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){b(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return(_=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?F(e):t}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function f(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n],i=e[n];void 0!==i&&void 0===r||(c(i)&&c(r)?e[n]=f(i,r):e[n]="object"==typeof(a=r)&&null!==a?f(Array.isArray(a)?[]:{},a):a)}var a;return e}function d(){return Array.prototype.slice.call(arguments).reduceRight(function(t,n){return Object.keys(Object(n)).forEach(function(e){void 0!==n[e]&&(t[e]=n[e])}),t},{})}var g=function(e){c(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];c(r)&&f(e,r)}return e};var h=function(n,r){return n.filter(function(e,t){return-1<r.indexOf(e)&&n.indexOf(e)===t})},v=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]};var p=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")};var x=function(e,t){if(null===e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i};var S=function(e){return e&&0<Object.keys(e).length},j={addRefinement:function(e,t,n){if(j.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,d({},a,e)},removeRefinement:function(e,n,t){if(void 0===t)return j.clearRefinement(e,function(e,t){return n===t});var r=""+t;return j.clearRefinement(e,function(e,t){return n===t&&r===e})},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return j.isRefined(e,t,n)?j.removeRefinement(e,t,n):j.addRefinement(e,t,n)},clearRefinement:function(i,a,s){if(void 0===a)return S(i)?{}:i;if("string"==typeof a)return x(i,a);if("function"==typeof a){var o=!1,e=Object.keys(i).reduce(function(e,t){var n=i[t]||[],r=n.filter(function(e){return!a(e,t,s)});return r.length!==n.length&&(o=!0),e[t]=r,e},{});return o?e:i}},isRefined:function(e,t,n){var r=!!e[t]&&0<e[t].length;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}},E=j;function C(e,n){return Array.isArray(e)&&Array.isArray(n)?e.length===n.length&&e.every(function(e,t){return C(n[t],e)}):e===n}function O(e){var r=e?O._parseNumbers(e):{};this.facets=r.facets||[],this.disjunctiveFacets=r.disjunctiveFacets||[],this.hierarchicalFacets=r.hierarchicalFacets||[],this.facetsRefinements=r.facetsRefinements||{},this.facetsExcludes=r.facetsExcludes||{},this.disjunctiveFacetsRefinements=r.disjunctiveFacetsRefinements||{},this.numericRefinements=r.numericRefinements||{},this.tagRefinements=r.tagRefinements||[],this.hierarchicalFacetsRefinements=r.hierarchicalFacetsRefinements||{};var i=this;Object.keys(r).forEach(function(e){var t=-1!==O.PARAMETERS.indexOf(e),n=void 0!==r[e];!t&&n&&(i[e]=r[e])})}O.PARAMETERS=Object.keys(new O),O._parseNumbers=function(i){if(i instanceof O)return i;var r={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(e){var t=i[e];if("string"==typeof t){var n=parseFloat(t);r[e]=isNaN(n)?t:n}}),Array.isArray(i.insideBoundingBox)&&(r.insideBoundingBox=i.insideBoundingBox.map(function(e){return e.map(function(e){return parseFloat(e)})})),i.numericRefinements){var a={};Object.keys(i.numericRefinements).forEach(function(n){var r=i.numericRefinements[n]||{};a[n]={},Object.keys(r).forEach(function(e){var t=r[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});a[n][e]=t})}),r.numericRefinements=a}return g({},i,r)},O.make=function(e){var n=new O(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var t=n.getHierarchicalRefinement(e.name);0<t.length&&0!==t[0].indexOf(e.rootPath)&&(n=n.clearRefinements(e.name)),0===(t=n.getHierarchicalRefinement(e.name)).length&&(n=n.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),n},O.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&0<n.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&S(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):S(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},O.prototype={constructor:O,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:E.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:E.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:E.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:E.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=p(n);if(this.isNumericRefined(e,t,r))return this;var i=g({},this.numericRefinements);return i[e]=g({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(n,r,i){return void 0!==i?this.isNumericRefined(n,r,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n&&e.op===r&&C(e.val,p(i))})}):this:void 0!==r?this.isNumericRefined(n,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n&&e.op===r})}):this:this.isNumericRefined(n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(s){if(void 0===s)return S(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof s)return S(this.numericRefinements[s])?x(this.numericRefinements,s):this.numericRefinements;if("function"==typeof s){var o=!1,t=this.numericRefinements,e=Object.keys(t).reduce(function(e,r){var i=t[r],a={};return i=i||{},Object.keys(i).forEach(function(t){var e=i[t]||[],n=[];e.forEach(function(e){s({val:e,op:t},r,"numeric")||n.push(e)}),n.length!==e.length&&(o=!0),a[t]=n}),e[r]=a,e},{});return o?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return E.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:E.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return E.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:E.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return E.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:E.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return E.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:E.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return E.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:E.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return E.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:E.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:this.tagRefinements.filter(function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:E.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:E.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:E.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:d({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:d({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:d({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&E.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&E.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&E.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):0<n.length},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i=p(n),a=void 0!==function(e,t){return v(e,function(e){return C(e,t)})}(this.numericRefinements[e][t],i);return r&&a},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var t=this,e=h(Object.keys(this.numericRefinements).filter(function(e){return 0<Object.keys(t.numericRefinements[e]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(e){return 0<t.disjunctiveFacetsRefinements[e].length}).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return h(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(e){return 0<t.hierarchicalFacetsRefinements[e].length}))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return-1===t.indexOf(e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var n=this.managedParameters,r={},i=this;return Object.keys(this).forEach(function(e){var t=i[e];-1===n.indexOf(e)&&void 0!==t&&(r[e]=t)}),r},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=O.validate(this,e);if(t)throw t;var n=this,i=O._parseNumbers(e),r=Object.keys(this).reduce(function(e,t){return e[t]=n[t],e},{}),a=Object.keys(i).reduce(function(e,t){var n=void 0!==e[t],r=void 0!==i[t];return n&&!r?x(e,[t]):(r&&(e[t]=i[t]),e)},r);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(t){return v(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var N=O;function T(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,a=null===t;if(!a&&t<e||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}function t(e){return Array.isArray(e)?e.filter(Boolean):[]}function k(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function A(e,t){var i=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var n=t.split(":"),r=v(i,function(e){return e[0]===n[0]});return 1<n.length||!r?(e[0].push(n[0]),e[1].push(n[1])):(e[0].push(r[0]),e[1].push(r[1])),e},[[],[]])}var I=function(e,n,i){if(!Array.isArray(e))return[];Array.isArray(i)||(i=[]);var t=e.map(function(t,e){return{criteria:n.map(function(e){return t[e]}),index:e,value:t}});return t.sort(function(e,t){for(var n=-1;++n<e.criteria.length;){var r=T(e.criteria[n],t.criteria[n]);if(r)return n>=i.length?r:"desc"===i[n]?-r:r}return e.index-t.index}),t.map(function(e){return e.value})},H=function(f){return function(e,t){var n=f.hierarchicalFacets[t],r=f.hierarchicalFacetsRefinements[n.name]&&f.hierarchicalFacetsRefinements[n.name][0]||"",i=f._getHierarchicalFacetSeparator(n),a=f._getHierarchicalRootPath(n),s=f._getHierarchicalShowParentLevel(n),o=A(f._getHierarchicalFacetSortBy(n)),c=e.every(function(e){return e.exhaustive}),u=function(o,c,u,l,f){return function(e,n,t){var r=e;if(0<t){var i=0;for(r=e;i<t;){var a=r&&Array.isArray(r.data)?r.data:[];r=v(a,function(e){return e.isRefined}),i++}}if(r){var s=Object.keys(n.data).map(function(e){return[e,n.data[e]]}).filter(function(e){return function(e,t,n,r,i,a){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(a||0===e.indexOf(n)))}(e[0],r.path||u,f,c,u,l)});r.data=I(s.map(function(e){var t=e[0];return function(e,t,n,r,i){var a=t.split(n);return{name:a[a.length-1].trim(),path:t,count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],t,c,f,n.exhaustive)}),o[0],o[1])}return e}}(o,i,a,s,r),l=e;return a&&(l=e.slice(a.split(i).length)),l.reduce(u,{name:f.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,exhaustive:c,data:null})}};function D(e){var n={};return e.forEach(function(e,t){n[e]=t}),n}function L(e,t,n){t&&t[n]&&(e.stats=t[n])}function Q(l,n){var c=n[0];this._rawResults=n,this.query=c.query,this.parsedQuery=c.parsedQuery,this.hits=c.hits,this.index=c.index,this.hitsPerPage=c.hitsPerPage,this.nbHits=c.nbHits,this.nbPages=c.nbPages,this.page=c.page,this.processingTimeMS=n.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.aroundLatLng=c.aroundLatLng,this.automaticRadius=c.automaticRadius,this.serverUsed=c.serverUsed,this.timeoutCounts=c.timeoutCounts,this.timeoutHits=c.timeoutHits,this.exhaustiveFacetsCount=c.exhaustiveFacetsCount,this.exhaustiveNbHits=c.exhaustiveNbHits,this.userData=c.userData,this.queryID=c.queryID,this.disjunctiveFacets=[],this.hierarchicalFacets=l.hierarchicalFacets.map(function(){return[]}),this.facets=[];var e=l.getRefinedDisjunctiveFacets(),u=D(l.facets),f=D(l.disjunctiveFacets),r=1,h=this,p=c.facets||{};Object.keys(p).forEach(function(e){var t=p[e],n=function(e,t){return v(e,function(e){return-1<(e.attributes||[]).indexOf(t)})}(l.hierarchicalFacets,e);if(n){var r=n.attributes.indexOf(e),i=k(l.hierarchicalFacets,function(e){return e.name===n.name});h.hierarchicalFacets[i][r]={attribute:e,data:t,exhaustive:c.exhaustiveFacetsCount}}else{var a,s=-1!==l.disjunctiveFacets.indexOf(e),o=-1!==l.facets.indexOf(e);s&&(a=f[e],h.disjunctiveFacets[a]={name:e,data:t,exhaustive:c.exhaustiveFacetsCount},L(h.disjunctiveFacets[a],c.facets_stats,e)),o&&(a=u[e],h.facets[a]={name:e,data:t,exhaustive:c.exhaustiveFacetsCount},L(h.facets[a],c.facets_stats,e))}}),this.hierarchicalFacets=t(this.hierarchicalFacets),e.forEach(function(e){var a=n[r],s=a&&a.facets?a.facets:{},o=l.getHierarchicalFacetByName(e);Object.keys(s).forEach(function(t){var n,e=s[t];if(o){n=k(l.hierarchicalFacets,function(e){return e.name===o.name});var r=k(h.hierarchicalFacets[n],function(e){return e.attribute===t});if(-1===r)return;h.hierarchicalFacets[n][r].data=g({},h.hierarchicalFacets[n][r].data,e)}else{n=f[t];var i=c.facets&&c.facets[t]||{};h.disjunctiveFacets[n]={name:t,data:d({},e,i),exhaustive:a.exhaustiveFacetsCount},L(h.disjunctiveFacets[n],a.facets_stats,t),l.disjunctiveFacetsRefinements[t]&&l.disjunctiveFacetsRefinements[t].forEach(function(e){!h.disjunctiveFacets[n].data[e]&&-1<l.disjunctiveFacetsRefinements[t].indexOf(e)&&(h.disjunctiveFacets[n].data[e]=0)})}}),r++}),l.getRefinedHierarchicalFacets().forEach(function(e){var s=l.getHierarchicalFacetByName(e),o=l._getHierarchicalFacetSeparator(s),c=l.getHierarchicalRefinement(e);if(!(0===c.length||c[0].split(o).length<2)){var t=n[r],u=t&&t.facets?t.facets:{};Object.keys(u).forEach(function(t){var e=u[t],n=k(l.hierarchicalFacets,function(e){return e.name===s.name}),r=k(h.hierarchicalFacets[n],function(e){return e.attribute===t});if(-1!==r){var i={};if(0<c.length){var a=c[0].split(o)[0];i[a]=h.hierarchicalFacets[n][r].data[a]}h.hierarchicalFacets[n][r].data=d(i,e,h.hierarchicalFacets[n][r].data)}}),r++}}),Object.keys(l.facetsExcludes).forEach(function(t){var e=l.facetsExcludes[t],n=u[t];h.facets[n]={name:t,data:c.facets[t],exhaustive:c.exhaustiveFacetsCount},e.forEach(function(e){h.facets[n]=h.facets[n]||{name:t},h.facets[n].data=h.facets[n].data||{},h.facets[n].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(H(l)),this.facets=t(this.facets),this.disjunctiveFacets=t(this.disjunctiveFacets),this._state=l}function M(t,e){if(!e.data||0===e.data.length)return e;var n=e.data.map(function(e){return M(t,e)}),r=t(n);return g({},e,{data:r})}function q(e,t){var n=v(e,function(e){return e.name===t});return n&&n.stats}function U(e,t,n,r,i){var a=v(i,function(e){return e.name===n}),s=a&&a.data&&a.data[r]?a.data[r]:0,o=a&&a.exhaustive||!1;return{type:t,attributeName:n,name:r,count:s,exhaustive:o}}Q.prototype.getFacetByName=function(t){function e(e){return e.name===t}return v(this.facets,e)||v(this.disjunctiveFacets,e)||v(this.hierarchicalFacets,e)},Q.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],Q.prototype.getFacetValues=function(e,t){var n=function(t,n){function e(e){return e.name===n}if(t._state.isConjunctiveFacet(n)){var r=v(t.facets,e);return r?Object.keys(r.data).map(function(e){return{name:e,count:r.data[e],isRefined:t._state.isFacetRefined(n,e),isExcluded:t._state.isExcludeRefined(n,e)}}):[]}if(t._state.isDisjunctiveFacet(n)){var i=v(t.disjunctiveFacets,e);return i?Object.keys(i.data).map(function(e){return{name:e,count:i.data[e],isRefined:t._state.isDisjunctiveFacetRefined(n,e)}}):[]}if(t._state.isHierarchicalFacet(n))return v(t.hierarchicalFacets,e)}(this,e);if(n){var r=d({},t,{sortBy:Q.DEFAULT_SORT});if(Array.isArray(r.sortBy)){var i=A(r.sortBy,Q.DEFAULT_SORT);return Array.isArray(n)?I(n,i[0],i[1]):M(function(e){return I(e,i[0],i[1])},n)}if("function"==typeof r.sortBy)return Array.isArray(n)?n.sort(r.sortBy):M(function(e){return function(e,t){return t.sort(e)}(r.sortBy,e)},n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}},Q.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?q(this.facets,e):this._state.isDisjunctiveFacet(e)?q(this.disjunctiveFacets,e):void 0},Q.prototype.getRefinements=function(){var r=this._state,n=this,i=[];return Object.keys(r.facetsRefinements).forEach(function(t){r.facetsRefinements[t].forEach(function(e){i.push(U(r,"facet",t,e,n.facets))})}),Object.keys(r.facetsExcludes).forEach(function(t){r.facetsExcludes[t].forEach(function(e){i.push(U(r,"exclude",t,e,n.facets))})}),Object.keys(r.disjunctiveFacetsRefinements).forEach(function(t){r.disjunctiveFacetsRefinements[t].forEach(function(e){i.push(U(r,"disjunctive",t,e,n.disjunctiveFacets))})}),Object.keys(r.hierarchicalFacetsRefinements).forEach(function(t){r.hierarchicalFacetsRefinements[t].forEach(function(e){i.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=n.split(a),o=v(r,function(e){return e.name===t}),c=s.reduce(function(e,t){var n=e&&v(e.data,function(e){return e.name===t});return void 0!==n?n:e},o),u=c&&c.count||0,l=c&&c.exhaustive||!1,f=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:f,count:u,exhaustive:l}}(r,t,e,n.hierarchicalFacets))})}),Object.keys(r.numericRefinements).forEach(function(n){var e=r.numericRefinements[n];Object.keys(e).forEach(function(t){e[t].forEach(function(e){i.push({type:"numeric",attributeName:n,name:e,numericValue:e,operator:t})})})}),r.tagRefinements.forEach(function(e){i.push({type:"tag",attributeName:"_tags",name:e})}),i};var W=Q;function B(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var $=B;function V(e){return"function"==typeof e}function z(e){return"object"==typeof e&&null!==e}function K(e){return void 0===e}(B.EventEmitter=B).prototype._events=void 0,B.prototype._maxListeners=void 0,B.defaultMaxListeners=10,B.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},B.prototype.emit=function(e){var t,n,r,i,a,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||z(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(K(n=this._events[e]))return!1;if(V(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(z(n))for(i=Array.prototype.slice.call(arguments,1),r=(s=n.slice()).length,a=0;a<r;a++)s[a].apply(this,i);return!0},B.prototype.on=B.prototype.addListener=function(e,t){var n;if(!V(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,V(t.listener)?t.listener:t),this._events[e]?z(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,z(this._events[e])&&!this._events[e].warned&&(n=K(this._maxListeners)?B.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},B.prototype.once=function(e,t){if(!V(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},B.prototype.removeListener=function(e,t){var n,r,i,a;if(!V(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||V(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(z(n)){for(a=i;0<a--;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},B.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(V(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},B.prototype.listeners=function(e){return this._events&&this._events[e]?V(this._events[e])?[this._events[e]]:this._events[e].slice():[]},B.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(V(t))return 1;if(t)return t.length}return 0},B.listenerCount=function(e,t){return e.listenerCount(t)};var e=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function Y(e,t){this.main=e,this.fn=t,this.lastResults=null}e(Y,$.EventEmitter),Y.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Y.prototype.getModifiedState=function(e){return this.fn(e)};var J=Y,G={_getQueries:function(i,a){var s=[];return s.push({indexName:i,params:G._getHitsSearchParams(a)}),a.getRefinedDisjunctiveFacets().forEach(function(e){s.push({indexName:i,params:G._getDisjunctiveFacetSearchParams(a,e)})}),a.getRefinedHierarchicalFacets().forEach(function(e){var t=a.getHierarchicalFacetByName(e),n=a.getHierarchicalRefinement(e),r=a._getHierarchicalFacetSeparator(t);0<n.length&&1<n[0].split(r).length&&s.push({indexName:i,params:G._getDisjunctiveFacetSearchParams(a,e,!0)})}),s},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(G._getHitsHierarchicalFacetsAttributes(e)),n=G._getFacetFilters(e),r=G._getNumericFilters(e),i={facets:t,tagFilters:G._getTagFilters(e)};return 0<n.length&&(i.facetFilters=n),0<r.length&&(i.numericFilters=r),g({},e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=G._getFacetFilters(e,t,n),i=G._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:G._getTagFilters(e),analytics:!1,clickAnalytics:!1},s=e.getHierarchicalFacetByName(t);return a.facets=s?G._getDisjunctiveHierarchicalFacetAttribute(e,s,n):t,0<i.length&&(a.numericFilters=i),0<r.length&&(a.facetFilters=r),g({},e.getQueryParams(),a)},_getNumericFilters:function(e,i){if(e.numericFilters)return e.numericFilters;var a=[];return Object.keys(e.numericRefinements).forEach(function(r){var t=e.numericRefinements[r]||{};Object.keys(t).forEach(function(n){var e=t[n]||[];i!==r&&e.forEach(function(e){if(Array.isArray(e)){var t=e.map(function(e){return r+n+e});a.push(t)}else a.push(r+n+e)})})}),a},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(o,c,u){var l=[],e=o.facetsRefinements||{};Object.keys(e).forEach(function(t){(e[t]||[]).forEach(function(e){l.push(t+":"+e)})});var n=o.facetsExcludes||{};Object.keys(n).forEach(function(t){(n[t]||[]).forEach(function(e){l.push(t+":-"+e)})});var r=o.disjunctiveFacetsRefinements||{};Object.keys(r).forEach(function(t){var e=r[t]||[];if(t!==c&&e&&0!==e.length){var n=[];e.forEach(function(e){n.push(t+":"+e)}),l.push(n)}});var f=o.hierarchicalFacetsRefinements||{};return Object.keys(f).forEach(function(e){var t=(f[e]||[])[0];if(void 0!==t){var n,r,i=o.getHierarchicalFacetByName(e),a=o._getHierarchicalFacetSeparator(i),s=o._getHierarchicalRootPath(i);if(c===e){if(-1===t.indexOf(a)||!s&&!0===u||s&&s.split(a).length===t.split(a).length)return;t=s?(r=s.split(a).length-1,s):(r=t.split(a).length-2,t.slice(0,t.lastIndexOf(a))),n=i.attributes[r]}else r=t.split(a).length-1,n=i.attributes[r];n&&l.push([n+":"+t])}}),l},_getHitsHierarchicalFacetsAttributes:function(s){return s.hierarchicalFacets.reduce(function(e,t){var n=s.getHierarchicalRefinement(t.name)[0];if(!n)return e.push(t.attributes[0]),e;var r=s._getHierarchicalFacetSeparator(t),i=n.split(r).length,a=t.attributes.slice(0,i+1);return e.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var s=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,1+s)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),g({},G._getHitsSearchParams(i),a)}},Z=G,X="0.0.0-5a0352a";function ee(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+X+")"),this.setClient(e);var r=n||{};r.index=t,this.state=N.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function te(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function ne(){return this.state.page}e(ee,$.EventEmitter),ee.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},ee.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},ee.prototype.getQuery=function(){var e=this.state;return Z._getHitsSearchParams(e)},ee.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Z._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new W(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new W(n,e.results),n)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)})},ee.prototype.searchForFacetValues=function(t,e,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),s=a.isDisjunctiveFacet(t),o=Z.getSearchForFacetQuery(t,e,n,a);this._currentNbQueries++;var c=this;return this.emit("searchForFacetValues",{state:a,facet:t,query:e}),(i?this.client.searchForFacetValues([{indexName:a.index,params:o}]):this.client.initIndex(a.index).searchForFacetValues(o)).then(function(e){return c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach(function(e){e.isRefined=s?a.isDisjunctiveFacetRefined(t,e.value):a.isFacetRefined(t,e.value)}),e},function(e){throw c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),e})},ee.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},ee.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},ee.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},ee.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},ee.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},ee.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},ee.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},ee.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},ee.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},ee.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},ee.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},ee.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},ee.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},ee.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},ee.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},ee.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},ee.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},ee.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},ee.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},ee.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},ee.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},ee.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},ee.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},ee.prototype.setCurrentPage=te,ee.prototype.setPage=te,ee.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},ee.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},ee.prototype.setState=function(e){return this._change({state:N.make(e),isPageReset:!1}),this},ee.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new N(e),this},ee.prototype.hasRefinements=function(e){return!!S(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},ee.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},ee.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},ee.prototype.hasTag=function(e){return this.state.isTagRefined(e)},ee.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},ee.prototype.getIndex=function(){return this.state.index},ee.prototype.getCurrentPage=ne,ee.prototype.getPage=ne,ee.prototype.getTags=function(){return this.state.tagRefinements},ee.prototype.getRefinements=function(e){var n=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach(function(e){n.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){n.push({value:e,type:"exclude"})});else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach(function(e){n.push({value:e,type:"disjunctive"})})}var r=this.state.getNumericRefinements(e);return Object.keys(r).forEach(function(e){var t=r[e];n.push({value:t,operator:e,type:"numeric"})}),n},ee.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},ee.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},ee.prototype._search=function(e){var r=this.state,i=[],t=[];e.onlyWithDerivedHelpers||(t=Z._getQueries(r.index,r),i.push({state:r,queriesCount:t.length,helper:this}),this.emit("search",{state:r,results:this.lastResults}));var n=this.derivedHelpers.map(function(e){var t=e.getModifiedState(r),n=Z._getQueries(t.index,t);return i.push({state:t,queriesCount:n.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),n}),a=Array.prototype.concat.apply(t,n),s=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,i,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(e){this.emit("error",{error:e})}},ee.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var s=n.results.slice();e.forEach(function(e){var t=e.state,n=e.queriesCount,r=e.helper,i=s.splice(0,n),a=r.lastResults=new W(t,i);r.emit("result",{results:a,state:t})})}},ee.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},ee.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},ee.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},ee.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},ee.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},ee.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+X+")"),this.client=e),this},ee.prototype.getClient=function(){return this.client},ee.prototype.derive=function(e){var t=new J(this,e);return this.derivedHelpers.push(t),t},ee.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},ee.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var re=ee;function ie(e,t,n){return new re(e,t,n)}ie.version=X,ie.AlgoliaSearchHelper=re,ie.SearchParameters=N,ie.SearchResults=W;function ae(r){function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===i&&(i=oe.then(function(){i=null,a?a=!1:r.apply(void 0,t)}))}var i=null,a=!1;return e.wait=function(){if(null===i)throw new Error("The deferred function should be called before calling `wait()`");return i},e.cancel=function(){null!==i&&(a=!0)},e}var se=ie,oe=Promise.resolve();function ce(e){var t="string"==typeof e,n=t?document.querySelector(e):e;if(function(e){return e instanceof HTMLElement||Boolean(e)&&0<e.nodeType}(n))return n;var r="Container must be `string` or `HTMLElement`.";throw t&&(r+=" Unable to find ".concat(e)),new Error(r)}function ue(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function le(e){var t=e.defaultTemplates,n=e.templates;return R({templatesConfig:e.templatesConfig},function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ue([].concat(m(Object.keys(a)),m(Object.keys(s)))).reduce(function(e,t){var n=a[t],r=s[t],i=void 0!==r&&r!==n;return e.templates[t]=i?r:n,e.useCustomCompileOptions[t]=i,e},{templates:{},useCustomCompileOptions:{}})}(t,n))}function fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function he(e,t){return e(t={exports:{}},t.exports),t.exports}var pe=he(function(e,t){!function(R){var w=/\S/,t=/\"/g,n=/\n/g,r=/\r/g,i=/\\/g,a=/\u2028/,s=/\u2029/;function _(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function F(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function P(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;r<i;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}R.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},R.scan=function(e,t){var n,r,i,a,s,o=e.length,c=0,u=null,l=null,f="",h=[],p=!1,d=0,m=0,g="{{",v="}}";function y(){0<f.length&&(h.push({tag:"_t",text:new String(f)}),f="")}function b(e,t){if(y(),e&&function(){for(var e=!0,t=m;t<h.length;t++)if(!(e=R.tags[h[t].tag]<R.tags._v||"_t"==h[t].tag&&null===h[t].text.match(w)))return!1;return e}())for(var n,r=m;r<h.length;r++)h[r].text&&((n=h[r+1])&&">"==n.tag&&(n.indent=h[r].text.toString()),h.splice(r,1));else t||h.push({tag:"\n"});p=!1,m=h.length}for(t&&(t=t.split(" "),g=t[0],v=t[1]),d=0;d<o;d++)0==c?P(g,e,d)?(--d,y(),c=1):"\n"==e.charAt(d)?b(p):f+=e.charAt(d):1==c?(d+=g.length-1,c="="==(u=(l=R.tags[e.charAt(d+1)])?e.charAt(d+1):"_v")?(r=d,void 0,i="="+v,a=(n=e).indexOf(i,r),s=F(n.substring(n.indexOf("=",r)+1,a)).split(" "),g=s[0],v=s[s.length-1],d=a+i.length-1,0):(l&&d++,2),p=d):P(v,e,d)?(h.push({tag:u,n:F(f),otag:g,ctag:v,i:"/"==u?p-g.length:d+v.length}),f="",d+=v.length-1,c=0,"{"==u&&("}}"==v?d++:_(h[h.length-1]))):f+=e.charAt(d);return b(p,!0),h};var u={_t:!0,"\n":!0,$:!0,"/":!0};function l(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n)return e.tag="#",!0}function f(e,t,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==e&&n[r].o==t)return!0}function o(e){var t=[];for(var n in e.partials)t.push('"'+h(n)+'":{name:"'+h(e.partials[n].name)+'", '+o(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var n in e)t.push('"'+h(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}(e.subs)}R.stringify=function(e,t,n){return"{code: function (c,p,i) { "+R.wrapMain(e.code)+" },"+o(e)+"}"};var c=0;function h(e){return e.replace(i,"\\\\").replace(t,'\\"').replace(n,"\\n").replace(r,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function p(e){return~e.indexOf(".")?"d":"f"}function d(e,t){var n="<"+(t.prefix||"")+e.n+c++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+h(n)+'",c,p,"'+(e.indent||"")+'"));',n}function e(e,t){t.code+="t.b(t.t(t."+p(e.n)+'("'+h(e.n)+'",c,p,0)));'}function m(e){return"t.b("+e+");"}R.generate=function(e,t,n){c=0;var r={code:"",subs:{},partials:{}};return R.walk(e,r),n.asString?this.stringify(r,t,n):this.makeTemplate(r,t,n)},R.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},R.template=R.Template,R.makeTemplate=function(e,t,n){var r=this.makePartials(e);return r.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(r,t,this,n)},R.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},R.codegen={"#":function(e,t){t.code+="if(t.s(t."+p(e.n)+'("'+h(e.n)+'",c,p,1),c,p,0,'+e.i+","+e.end+',"'+e.otag+" "+e.ctag+'")){t.rs(c,p,function(c,p,t){',R.walk(e.nodes,t),t.code+="});c.pop();}"},"^":function(e,t){t.code+="if(!t.s(t."+p(e.n)+'("'+h(e.n)+'",c,p,1),c,p,1,0,0,"")){',R.walk(e.nodes,t),t.code+="};"},">":d,"<":function(e,t){var n={partials:{},code:"",subs:{},inPartial:!0};R.walk(e.nodes,n);var r=t.partials[d(e,t)];r.subs=n.subs,r.partials=n.partials},$:function(e,t){var n={subs:{},code:"",partials:t.partials,prefix:e.n};R.walk(e.nodes,n),t.subs[e.n]=n.code,t.inPartial||(t.code+='t.sub("'+h(e.n)+'",c,p,i);')},"\n":function(e,t){t.code+=m('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+p(e.n)+'("'+h(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=m('"'+h(e.text)+'"')},"{":e,"&":e},R.walk=function(e,t){for(var n,r=0,i=e.length;r<i;r++)(n=R.codegen[e[r].tag])&&n(e[r],t);return t},R.parse=function(e,t,n){return function e(t,n,r,i){var a,s=[],o=null,c=null;for(a=r[r.length-1];0<t.length;){if(c=t.shift(),a&&"<"==a.tag&&!(c.tag in u))throw new Error("Illegal content in < super tag.");if(R.tags[c.tag]<=R.tags.$||l(c,i))r.push(c),c.nodes=e(t,c.tag,r,i);else{if("/"==c.tag){if(0===r.length)throw new Error("Closing tag without opener: /"+c.n);if(o=r.pop(),c.n!=o.n&&!f(c.n,o.n,i))throw new Error("Nesting error: "+o.n+" vs. "+c.n);return o.end=c.i,s}"\n"==c.tag&&(c.last=0==t.length||"\n"==t[0].tag)}s.push(c)}if(0<r.length)throw new Error("missing closing tag: "+r.pop().n);return s}(e,0,[],(n=n||{}).sectionTags||[])},R.cache={},R.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},R.compile=function(e,t){t=t||{};var n=R.cacheKey(e,t),r=this.cache[n];if(r){var i=r.partials;for(var a in i)delete i[a].instance;return r}return r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=r}}(t)}),de=he(function(e,t){!function(e){function l(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=o(e),s.test(e)?e.replace(t,"&amp;").replace(n,"&lt;").replace(r,"&gt;").replace(i,"&#39;").replace(a,"&quot;"):e},t:o,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],r=t[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[e].base=r,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);r=function(e,t,n,r,i,a){function s(){}function o(){}var c;o.prototype=(s.prototype=e).subs;var u=new s;for(c in u.subs=new o,u.subsText={},u.buf="",r=r||{},u.stackSubs=r,u.subsText=a,t)r[c]||(r[c]=t[c]);for(c in r)u.subs[c]=r[c];for(c in i=i||{},u.stackPartials=i,n)i[c]||(i[c]=n[c]);for(c in i)u.partials[c]=i[c];return u}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=r},rp:function(e,t,n,r){var i=this.ep(e,n);return i?i.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(f(r))for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,r,i,a,s){var o;return(!f(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,r,i,a,s)),o=!!e,!r&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,t,n,r){var i,a=e.split("."),s=this.f(a[0],t,n,r),o=this.options.modelGet,c=null;if("."===e&&f(t[t.length-2]))s=t[t.length-1];else for(var u=1;u<a.length;u++)s=void 0!==(i=l(a[u],s,o))?(c=s,i):"";return!(r&&!s)&&(r||"function"!=typeof s||(t.push(c),s=this.mv(s,t,n),t.pop()),s)},f:function(e,t,n,r){for(var i=!1,a=!1,s=this.options.modelGet,o=t.length-1;0<=o;o--)if(void 0!==(i=l(e,t[o],s))){a=!0;break}return a?(r||"function"!=typeof i||(i=this.mv(i,t,n)),i):!r&&""},ls:function(e,t,n,r,i){var a=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(o(e.call(t,r)),t,n)),this.options.delimiters=a,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,i,a,s){var o,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!r||(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,n,o.substring(i,a),s)):u},mv:function(e,t,n){var r=t[t.length-1],i=e.call(r);return"function"==typeof i?this.ct(o(i.call(r)),r,n):i},sub:function(e,t,n,r){var i=this.subs[e];i&&(this.activeSub=e,i(t,n,this,r),this.activeSub=!1)}};var t=/&/g,n=/</g,r=/>/g,i=/\'/g,a=/\"/g,s=/[&<>\"\']/;function o(e){return String(null==e?"":e)}var f=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)});pe.Template=de.Template,pe.template=pe.Template;var me=pe;function ge(e){var t=e.templates,n=e.templateKey,r=e.compileOptions,i=e.helpers,a=e.data,s=t[n],o=l(s),c="function"===o;if(!("string"===o)&&!c)throw new Error("Template must be 'string' or 'function', was '".concat(o,"' (key: ").concat(n,")"));if(c)return s(a);var u=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0,a=2<arguments.length?arguments[2]:void 0;return Object.keys(r).reduce(function(e,n){return R({},e,b({},n,function(){var t=this;return function(e){return r[n].call(a,e,function(e){return me.compile(e,i).render(t)})}}))},{})}(i,r,a);return me.compile(s,r).render(R({},a,{helpers:u})).replace(/[ \n\r\t\f\xA0]+/g,function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")}).trim()}function ve(e,t){if(void 0===e||"function"!=typeof e)throw new Error('The render function is not valid (got type "'.concat(l(e),'").\n\n').concat(t))}function ye(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function be(){}function Re(e){if(!function(e){return"object"===l(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function we(e){return e!==Object(e)}function _e(e,t){if(e===t)return!0;if(we(e)||we(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!_e(e[i],t[i]))return!1}return!0}var Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pe=/[&<>"']/g,xe=RegExp(Pe.source);function Se(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var n=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e,function(e){return e.name===t.name});if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r},e.hierarchicalFacets)})}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:R({},e.hierarchicalFacetsRefinements,{},t.hierarchicalFacetsRefinements)})}(e,t);return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=o(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)}(function(e,t){return t.facets.reduce(function(e,t){return e.addFacet(t)},e)}(function(e,t){var n=ue([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return 0<n.length?e.setQueryParameters({ruleContexts:n}):e}(function(e,t){return t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)}(function(e,t){return e.setQueryParameters({facetsRefinements:R({},e.facetsRefinements,{},t.facetsRefinements)})}(function(e,t){return e.setQueryParameters({facetsExcludes:R({},e.facetsExcludes,{},t.facetsExcludes)})}(function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:R({},e.disjunctiveFacetsRefinements,{},t.disjunctiveFacetsRefinements)})}(function(e,t){return e.setQueryParameters({numericRefinements:R({},e.numericRefinements,{},t.numericRefinements)})}(function(e,t){return t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)}(Se(n,t),t),t),t),t),t),t),t),t),t)})}function Ee(e){var t=e.name,n=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==n&&n?"#connector":""].join("")}function Ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return Ee(e)}).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}var Oe=be,Ne=function(e,n,r){return e.map(function(e,t){return R({},e,{__position:r*n+t+1})})},Te=function(e,t){return t?e.map(function(e){return R({},e,{__queryID:t})}):e},ke=Ce({name:"index"});function Ae(e){return"ais.index"===e.$$type}function Ie(e,n){return e.filter(function(e){return!Ae(e)}).reduce(function(e,t){return t.getWidgetState?t.getWidgetState(e,n):e},{})}function He(e,t){var n=t.initialSearchParameters,r=o(t,["initialSearchParameters"]);return e.filter(function(e){return!Ae(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e},n)}function De(e){var t=e.getParent();return function n(e){return e.filter(Ae).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(m(n(t.getWidgets()))))},[])}(t?t.getWidgets():[e])}function Le(e){if(void 0===e||void 0===e.indexName)throw new Error(ke("The `indexName` option is required."));function s(e){return f._createURL(b({},c,Ie(u,{searchParameters:e,helper:p})))}var o=e.indexName,t=e.indexId,c=void 0===t?o:t,u=[],l={},f=null,h=null,p=null,d=null;return{$$type:"ais.index",getIndexName:function(){return o},getIndexId:function(){return c},getHelper:function(){return p},getResults:function(){return d&&d.lastResults},getParent:function(){return h},getWidgets:function(){return u},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(ke("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(ke("The widget definition expects a `render` and/or an `init` method."));return u=u.concat(e),f&&Boolean(e.length)&&(p.setState(He(u,{uiState:l,initialSearchParameters:p.state})),e.forEach(function(e){f&&e.init&&e.init({helper:p,parent:t,uiState:{},instantSearchInstance:f,state:p.state,templatesConfig:f.templatesConfig,createURL:s})}),f.scheduleSearch()),this},removeWidgets:function(t){if(!Array.isArray(t))throw new Error(ke("The `removeWidgets` method expects an array of widgets."));if(t.some(function(e){return"function"!=typeof e.dispose}))throw new Error(ke("The widget definition expects a `dispose` method."));if(u=u.filter(function(e){return-1===t.indexOf(e)}),f&&Boolean(t.length)){var e=t.reduce(function(e,t){return t.dispose({helper:p,state:e})||e},p.state);l=Ie(u,{searchParameters:e,helper:p}),p.setState(He(u,{uiState:l,initialSearchParameters:e})),u.length&&f.scheduleSearch()}return this},init:function(e){var t=this,n=e.instantSearchInstance,r=e.parent,i=e.uiState;f=n,h=r,l=i[c]||{};var a=n.mainHelper;(p=se({},o,He(u,{uiState:l,initialSearchParameters:new se.SearchParameters}))).search=function(){return a.search()},p.searchForFacetValues=function(e,t,n,r){var i=p.state.setQueryParameters(r);return a.searchForFacetValues(e,t,n,i)},d=a.derive(function(){return je.apply(void 0,m(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(t)))}),p.on("change",function(e){e.isPageReset&&!function n(e){var t=e.filter(Ae);0!==t.length&&t.forEach(function(e){var t=e.getHelper();t.setState(t.state.resetPage()),n(e.getWidgets())})}(u)}),d.on("search",function(){n.scheduleStalledRender()}),d.on("result",function(){n.scheduleRender()}),u.forEach(function(e){e.init&&e.init({uiState:i,helper:p,parent:t,instantSearchInstance:n,state:p.state,templatesConfig:n.templatesConfig,createURL:s})}),p.on("change",function(e){var t=e.state;l=Ie(u,{searchParameters:t,helper:p}),n.onStateChange()})},render:function(e){var t=this,n=e.instantSearchInstance;u.forEach(function(e){e.render&&d.lastResults&&e.render({helper:p,instantSearchInstance:n,results:d.lastResults,scopedResults:De(t),state:d.lastResults._state,templatesConfig:n.templatesConfig,createURL:s,searchMetadata:{isSearchStalled:n._isSearchStalled}})})},dispose:function(){u.forEach(function(e){e.dispose&&e.dispose({helper:p,state:p.state})}),h=f=null,p.removeAllListeners(),p=null,d.detach(),d=null},getWidgetState:function(e){return u.filter(Ae).reduce(function(e,t){return t.getWidgetState(e)},R({},e,b({},this.getIndexId(),l)))}}}var Qe=function(){function i(e){var t=e.router,n=e.stateMapping,r=e.instantSearchInstance;y(this,i),b(this,"instantSearchInstance",void 0),b(this,"router",void 0),b(this,"stateMapping",void 0),this.router=t,this.stateMapping=n,this.instantSearchInstance=r,this.createURL=this.createURL.bind(this),this.applyStateFromRoute=this.applyStateFromRoute.bind(this),this.router.onUpdate(this.applyStateFromRoute)}return n(i,[{key:"applyStateFromRoute",value:function(e){var i=this,a=this.stateMapping.routeToState(e);!function t(e,n){n(e),e.getWidgets().filter(function(e){return"ais.index"===e.$$type}).forEach(function(e){t(e,n)})}(this.instantSearchInstance.mainIndex,function(e){var t=e.getWidgets(),n=a[e.getIndexId()]||{},r=t.reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,{uiState:n}):e},e.getHelper().state);e.getHelper().overrideStateWithoutTriggeringChangeEvent(r),i.instantSearchInstance.scheduleSearch()})}},{key:"write",value:function(e){var t=e.state,n=this.stateMapping.stateToRoute(t);this.router.write(n)}},{key:"dispose",value:function(e){var t=e.helper,n=e.state;this.router.dispose&&this.router.dispose({helper:t,state:n})}},{key:"createURL",value:function(n){var e=Object.keys(n).reduce(function(e,t){return R({},e,b({},t,n[t]))},this.instantSearchInstance.mainIndex.getWidgetState({})),t=this.stateMapping.stateToRoute(e);return this.router.createURL(t)}}]),i}();function Me(e){e.configure;return o(e,["configure"])}function qe(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n}function Ue(e,t){it.apply(e,rt(t)?t:[t])}function We(e,t,n,r,i,a,s,o,c,u,l,f,h){var p=e;if("function"==typeof s?p=s(t,p):p instanceof Date?p=u(p):"comma"===n&&rt(p)&&(p=p.join(",")),null===p){if(r)return a&&!f?a(t,st.encoder,h):t;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||Ge.isBuffer(p))return a?[l(f?t:a(t,st.encoder,h))+"="+l(a(p,st.encoder,h))]:[l(t)+"="+l(String(p))];var d,m=[];if(void 0===p)return m;if(rt(s))d=s;else{var g=Object.keys(p);d=o?g.sort(o):g}for(var v=0;v<d.length;++v){var y=d[v];i&&null===p[y]||(rt(p)?Ue(m,We(p[y],"function"==typeof n?n(t,y):t,n,r,i,a,s,o,c,u,l,f,h)):Ue(m,We(p[y],t+(c?"."+y:"["+y+"]"),n,r,i,a,s,o,c,u,l,f,h)))}return m}function Be(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,o=[];if(s){if(!n.plainObjects&&ot.call(Object.prototype,s)&&!n.allowPrototypes)return;o.push(s)}for(var c=0;null!==(a=i.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&ot.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;o.push(a[1])}return a&&o.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;0<=i;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(r);else{a=n.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(o,10);n.parseArrays||""!==o?!isNaN(c)&&s!==o&&String(c)===o&&0<=c&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=r:a[o]=r:a={0:r}}r=a}return r}(o,t,n)}}function $e(e){var t=e.qsModule,n=e.routeState,r=e.location,i=r.protocol,a=r.hostname,s=r.port,o=void 0===s?"":s,c=r.pathname,u=r.hash,l=t.stringify(n),f=""===o?"":":".concat(o);return n&&0!==Object.keys(n).length?"".concat(i,"//").concat(a).concat(f).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(a).concat(f).concat(c).concat(u)}function Ve(e){var t=e.qsModule,n=e.location;return t.parse(n.search.slice(1),{arrayLimit:99})}function ze(e){e&&(window.document.title=e)}var Ke=Object.prototype.hasOwnProperty,Ye=Array.isArray,Je=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ge={arrayToObject:qe,assign:function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),o=0;o<s.length;++o){var c=s[o],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(Ye(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r="string"==typeof e?e:String(e);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var i="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122?i+=r.charAt(a):s<128?i+=Je[s]:s<2048?i+=Je[192|s>>6]+Je[128|63&s]:s<55296||57344<=s?i+=Je[224|s>>12]+Je[128|s>>6&63]+Je[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),i+=Je[240|s>>18]+Je[128|s>>12&63]+Je[128|s>>6&63]+Je[128|63&s])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function r(i,a,s){if(!a)return i;if("object"!=typeof a){if(Ye(i))i.push(a);else{if(!i||"object"!=typeof i)return[i,a];(s&&(s.plainObjects||s.allowPrototypes)||!Ke.call(Object.prototype,a))&&(i[a]=!0)}return i}if(!i||"object"!=typeof i)return[i].concat(a);var e=i;return Ye(i)&&!Ye(a)&&(e=qe(i,s)),Ye(i)&&Ye(a)?(a.forEach(function(e,t){if(Ke.call(i,t)){var n=i[t];n&&"object"==typeof n&&e&&"object"==typeof e?i[t]=r(n,e,s):i.push(e)}else i[t]=e}),i):Object.keys(a).reduce(function(e,t){var n=a[t];return Ke.call(e,t)?e[t]=r(e[t],n,s):e[t]=n,e},e)}},Ze=String.prototype.replace,Xe=/%20/g,et={default:"RFC3986",formatters:{RFC1738:function(e){return Ze.call(e,Xe,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},tt=Object.prototype.hasOwnProperty,nt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},rt=Array.isArray,it=Array.prototype.push,at=Date.prototype.toISOString,st={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ge.encode,encodeValuesOnly:!1,formatter:et.formatters[et.default],indices:!1,serializeDate:function(e){return at.call(e)},skipNulls:!1,strictNullHandling:!1},ot=Object.prototype.hasOwnProperty,ct={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ge.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ut={formats:et,parse:function(e,t){var n=function(e){if(!e)return ct;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?ct.charset:e.charset;return{allowDots:void 0===e.allowDots?ct.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:ct.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:ct.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:ct.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:ct.comma,decoder:"function"==typeof e.decoder?e.decoder:ct.decoder,delimiter:"string"==typeof e.delimiter||Ge.isRegExp(e.delimiter)?e.delimiter:ct.delimiter,depth:"number"==typeof e.depth?e.depth:ct.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:ct.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:ct.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:ct.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:ct.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,a),o=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<s.length;++n)0===s[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[n]?c="utf-8":"utf8=%26%2310003%3B"===s[n]&&(c="iso-8859-1"),o=n,n=s.length);for(n=0;n<s.length;++n)if(n!==o){var u,l,f=s[n],h=f.indexOf("]="),p=-1===h?f.indexOf("="):h+1;(l=-1===p?(u=t.decoder(f,ct.decoder,c),t.strictNullHandling?null:""):(u=t.decoder(f.slice(0,p),ct.decoder,c),t.decoder(f.slice(p+1),ct.decoder,c)))&&t.interpretNumericEntities&&"iso-8859-1"===c&&(l=l.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})),l&&t.comma&&-1<l.indexOf(",")&&(l=l.split(",")),ot.call(r,u)?r[u]=Ge.combine(r[u],l):r[u]=l}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var o=a[s],c=Be(o,r[o],n);i=Ge.merge(i,c,n)}return Ge.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return st;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||st.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=et.default;if(void 0!==e.format){if(!tt.call(et.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=et.formatters[n],i=st.filter;return"function"!=typeof e.filter&&!rt(e.filter)||(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:st.addQueryPrefix,allowDots:void 0===e.allowDots?st.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:st.charsetSentinel,delimiter:void 0===e.delimiter?st.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:st.encode,encoder:"function"==typeof e.encoder?e.encoder:st.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:st.encodeValuesOnly,filter:i,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:st.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:st.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:st.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):rt(i.filter)&&(n=i.filter);var a,s=[];if("object"!=typeof r||null===r)return"";a=t&&t.arrayFormat in nt?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var o=nt[a];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var u=n[c];i.skipNulls&&null===r[u]||Ue(s,We(r[u],u,o,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}var l=s.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),0<l.length?f+l:""}},lt=function(){function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.windowTitle,n=e.writeDelay,r=void 0===n?400:n,i=e.createURL,a=void 0===i?$e:i,s=e.parseURL,o=void 0===s?Ve:s;y(this,u),b(this,"windowTitle",void 0),b(this,"writeDelay",void 0),b(this,"_createURL",void 0),b(this,"parseURL",void 0),b(this,"writeTimer",void 0),this.windowTitle=t,this.writeTimer=void 0,this.writeDelay=r,this._createURL=a,this.parseURL=o;var c=this.windowTitle&&this.windowTitle(this.read());ze(c)}return n(u,[{key:"read",value:function(){return this.parseURL({qsModule:ut,location:window.location})}},{key:"write",value:function(e){var t=this,n=this.createURL(e),r=this.windowTitle&&this.windowTitle(e);this.writeTimer&&window.clearTimeout(this.writeTimer),this.writeTimer=window.setTimeout(function(){ze(r),window.history.pushState(e,r||"",n),t.writeTimer=void 0},this.writeDelay)}},{key:"onUpdate",value:function(n){var r=this;this._onPopState=function(e){r.writeTimer&&(window.clearTimeout(r.writeTimer),r.writeTimer=void 0);var t=e.state;n(t||r.read())},window.addEventListener("popstate",this._onPopState)}},{key:"createURL",value:function(e){return this._createURL({qsModule:ut,routeState:e,location:window.location})}},{key:"dispose",value:function(){this._onPopState&&window.removeEventListener("popstate",this._onPopState),this.writeTimer&&window.clearTimeout(this.writeTimer),this.write({})}}]),u}();var ft="4.0.0-beta.0",ht={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},pt={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function dt(e){return function(e){return e&&xe.test(e)?e.replace(Pe,function(e){return Fe[e]}):e}(e).replace(new RegExp(ht.highlightPreTag,"g"),pt.highlightPreTag).replace(new RegExp(ht.highlightPostTag,"g"),pt.highlightPostTag)}function mt(n){return Re(n)&&"string"!=typeof n.value?Object.keys(n).reduce(function(e,t){return R({},e,b({},t,mt(n[t])))},{}):Array.isArray(n)?n.map(mt):R({},n,{value:dt(n.value)})}function gt(a){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.descendantName,n=e.modifierName,r=t?"-".concat(t):"",i=n?"--".concat(n):"";return"".concat("ais","-").concat(a).concat(r).concat(i)}}var vt=gt("Highlight");var yt=gt("Snippet");function bt(e){var n=e.numberLocale;return{formatNumber:function(e,t){return Number(t(e)).toLocaleString(n)},highlight:function(e,t){try{return t(function(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=ye(e.hit,"_highlightResult.".concat(t,".value"))||"",a=vt({descendantName:"highlighted"});return i.replace(new RegExp(pt.highlightPreTag,"g"),"<".concat(r,' class="').concat(a,'">')).replace(new RegExp(pt.highlightPostTag,"g"),"</".concat(r,">"))}(R({},JSON.parse(e),{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(function(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=ye(e.hit,"_snippetResult.".concat(t,".value"))||"",a=yt({descendantName:"highlighted"});return i.replace(new RegExp(pt.highlightPreTag,"g"),"<".concat(r,' class="').concat(a,'">')).replace(new RegExp(pt.highlightPostTag,"g"),"</".concat(r,">"))}(R({},JSON.parse(e),{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}}}}var Rt=Ce({name:"instantsearch"});function wt(){return"#"}var _t=function(e){function v(e){var t;y(this,v),b(F(t=P(this,w(v).call(this))),"client",void 0),b(F(t),"indexName",void 0),b(F(t),"insightsClient",void 0),b(F(t),"helper",void 0),b(F(t),"mainHelper",void 0),b(F(t),"mainIndex",void 0),b(F(t),"started",void 0),b(F(t),"templatesConfig",void 0),b(F(t),"_stalledSearchDelay",void 0),b(F(t),"_searchStalledTimer",void 0),b(F(t),"_isSearchStalled",void 0),b(F(t),"_initialUiState",void 0),b(F(t),"_searchFunction",void 0),b(F(t),"_mainHelperSearch",void 0),b(F(t),"routing",void 0),b(F(t),"_routingManager",void 0),b(F(t),"scheduleSearch",ae(function(){t.mainHelper.search()})),b(F(t),"scheduleRender",ae(function(){t.mainHelper.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,t._isSearchStalled=!1),t.mainIndex.render({instantSearchInstance:F(t)}),t.emit("render")})),b(F(t),"onStateChange",function(){var e=t.mainIndex.getWidgetState({});t.routing&&t._routingManager.write({state:e})});var n=e.indexName,r=void 0===n?null:n,i=e.numberLocale,a=e.initialUiState,s=void 0===a?{}:a,o=e.routing,c=void 0===o?null:o,u=e.searchFunction,l=e.stalledSearchDelay,f=void 0===l?200:l,h=e.searchClient,p=void 0===h?null:h,d=e.insightsClient,m=void 0===d?null:d;if(null===r)throw new Error(Rt("The `indexName` option is required."));if(null===p)throw new Error(Rt("The `searchClient` option is required."));if(void 0!==e.urlSync)throw new Error(Rt("The `urlSync` option was removed in InstantSearch.js 3. You may want to use the `routing` option."));if("function"!=typeof p.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof p.addAlgoliaAgent&&p.addAlgoliaAgent("instantsearch.js (".concat(ft,")")),m&&"function"!=typeof m)throw new Error(Rt("The `insightsClient` option should be a function."));t.client=p,t.insightsClient=m,t.indexName=r,t.helper=null,t.mainHelper=null,t.mainIndex=Le({indexName:r}),t.started=!1,t.templatesConfig={helpers:bt({numberLocale:i}),compileOptions:{}},t._stalledSearchDelay=f,t._searchStalledTimer=null,t._isSearchStalled=!1,u&&(t._searchFunction=u);var g={stateMapping:{stateToRoute:function(n){return Object.keys(n).reduce(function(e,t){return R({},e,b({},t,Me(n[t])))},{})},routeToState:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(n).reduce(function(e,t){return R({},e,b({},t,Me(n[t])))},{})}},router:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(lt,t)}()};return!0===c?t.routing=g:Re(c)&&(t.routing=R({},g,{},c)),t.routing?t._initialUiState=R({},s,{},t.routing.stateMapping.routeToState(t.routing.router.read())):t._initialUiState=s,t}return a(v,$),n(v,[{key:"addWidget",value:function(e){this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(Rt("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(Rt("The widget definition expects a `render` and/or an `init` method."));this.mainIndex.addWidgets(e)}},{key:"removeWidget",value:function(e){this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(Rt("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(Rt("The widget definition expects a `dispose` method."));this.mainIndex.removeWidgets(e)}},{key:"start",value:function(){var r=this;if(this.started)throw new Error(Rt("The `start` method has already been called once."));this.routing?(this._routingManager=new Qe(R({},this.routing,{instantSearchInstance:this})),this._createURL=this._routingManager.createURL):this._createURL=wt;var t=se(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var i={search:function(){return new Promise(be)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var n=r.mainIndex.getHelper(),e=se(i,n.state.index,n.state);return e.once("search",function(e){var t=e.state;n.overrideStateWithoutTriggeringChangeEvent(t),r._mainHelperSearch()}),e.on("change",function(e){var t=e.state;n.setState(t)}),r._searchFunction(e),t}}t.on("error",function(e){var t=e.error;r.emit("error",{error:t})}),this.mainHelper=t,this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this.routing&&this._routingManager.applyStateFromRoute(this.routing.router.read()),t.search(),this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.routing&&this._routingManager.dispose()}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"createURL",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this._createURL)throw new Error(Rt("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Rt("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),v}(),Ft=Ce({name:"hits",connector:!0});function Pt(o){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:be;return ve(o,Ft()),function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=i.escapeHTML,a=void 0===e||e,t=i.transformItems,s=void 0===t?function(e){return e}:t;return{$$type:"ais.hits",init:function(e){var t=e.instantSearchInstance;o({hits:[],results:void 0,instantSearchInstance:t,widgetParams:i},!0)},render:function(e){var t=e.results,n=e.instantSearchInstance;a&&0<t.hits.length&&(t.hits=function(e){return void 0===e.__escaped&&((e=e.map(function(e){return e._highlightResult&&(e._highlightResult=mt(e._highlightResult)),e._snippetResult&&(e._snippetResult=mt(e._snippetResult)),e})).__escaped=!0),e}(t.hits));var r=t.hits.__escaped;t.hits=Ne(t.hits,t.page,t.hitsPerPage),t.hits=Te(t.hits,t.queryID),t.hits=s(t.hits),t.hits.__escaped=r,o({hits:t.hits,results:t,instantSearchInstance:n,widgetParams:i},!1)},dispose:function(e){var t=e.state;return n(),a?t.setQueryParameters(Object.keys(ht).reduce(function(e,t){return R({},e,b({},t,void 0))},{})):t},getWidgetSearchParameters:function(e){return a?e.setQueryParameters(ht):e}}}}function xt(n,e){return e.map(function(t){var e=function(e,t,n){return Array.prototype.find?e.find(t,n):e.filter(t,n)[0]}(n,function(e){return e.objectID===t});if(void 0===e)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return e})}function St(e){var t=e.method,n=e.results,r=e.hits,i=e.objectIDs,a=n.index,s=xt(r,i),o=function(e){var t=ue(e.map(function(e){return e.__queryID}));if(1<t.length)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch is configured with `clickAnalytics: true`");return n}(s);switch(t){case"clickedObjectIDsAfterSearch":return{index:a,queryID:o,objectIDs:i,positions:function(e){return e.map(function(e){return e.__position})}(s)};case"convertedObjectIDsAfterSearch":return{index:a,queryID:o,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}}var jt=function(r,i,a){return function(e,t){if(!Array.isArray(t.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var n=St({method:e,results:i,hits:a,objectIDs:t.objectIDs});r(e,R({},n,{},t))}};function Et(n){return function(e,t){return n(function(s){return function(e,t){var n=e.results,r=e.hits,i=e.instantSearchInstance;if(n&&r&&i&&i.insightsClient){var a=jt(i.insightsClient,n,r);return s(R({},e,{insights:a}),t)}return s(e,t)}}(e),t)}}var Ct=he(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case o:case s:case p:return e;default:switch(e=e&&e.$$typeof){case u:case h:case c:return e;default:return t}}case m:case d:case i:return t}}}function v(e){return g(e)===f}t.typeOf=g,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=d,t.Portal=i,t.Profiler=o,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===o||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===d||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return v(e)||g(e)===l},t.isConcurrentMode=v,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===h},t.isFragment=function(e){return g(e)===a},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===d},t.isPortal=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===o},t.isStrictMode=function(e){return g(e)===s},t.isSuspense=function(e){return g(e)===p}});fe(Ct);Ct.typeOf,Ct.AsyncMode,Ct.ConcurrentMode,Ct.ContextConsumer,Ct.ContextProvider,Ct.Element,Ct.ForwardRef,Ct.Fragment,Ct.Lazy,Ct.Memo,Ct.Portal,Ct.Profiler,Ct.StrictMode,Ct.Suspense,Ct.isValidElementType,Ct.isAsyncMode,Ct.isConcurrentMode,Ct.isContextConsumer,Ct.isContextProvider,Ct.isElement,Ct.isForwardRef,Ct.isFragment,Ct.isLazy,Ct.isMemo,Ct.isPortal,Ct.isProfiler,Ct.isStrictMode,Ct.isSuspense;var Ot=he(function(e,t){});fe(Ot);Ot.typeOf,Ot.AsyncMode,Ot.ConcurrentMode,Ot.ContextConsumer,Ot.ContextProvider,Ot.Element,Ot.ForwardRef,Ot.Fragment,Ot.Lazy,Ot.Memo,Ot.Portal,Ot.Profiler,Ot.StrictMode,Ot.Suspense,Ot.isValidElementType,Ot.isAsyncMode,Ot.isConcurrentMode,Ot.isContextConsumer,Ot.isContextProvider,Ot.isElement,Ot.isForwardRef,Ot.isFragment,Ot.isLazy,Ot.isMemo,Ot.isPortal,Ot.isProfiler,Ot.isStrictMode,Ot.isSuspense,he(function(e){e.exports=Ct});var Nt=Object.getOwnPropertySymbols,Tt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()||Object.assign,Function.call.bind(Object.prototype.hasOwnProperty);function At(){}function It(){}It.resetWarningCache=At;var Ht=he(function(e){e.exports=function(){function e(e,t,n,r,i,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:It,resetWarningCache:At};return n.PropTypes=n}()}),Dt=function(){},Lt={},Qt=[],Mt=[];function qt(e,t){var n,r,i,a,s=Mt;for(a=arguments.length;2<a--;)Qt.push(arguments[a]);for(t&&null!=t.children&&(Qt.length||Qt.push(t.children),delete t.children);Qt.length;)if((r=Qt.pop())&&void 0!==r.pop)for(a=r.length;a--;)Qt.push(r[a]);else"boolean"==typeof r&&(r=null),(i="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(i=!1)),i&&n?s[s.length-1]+=r:s===Mt?s=[r]:s.push(r),n=i;var o=new Dt;return o.nodeName=e,o.children=s,o.attributes=null==t?void 0:t,o.key=null==t?void 0:t.key,void 0!==Lt.vnode&&Lt.vnode(o),o}function Ut(e,t){for(var n in t)e[n]=t[n];return e}function Wt(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var Bt="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var $t=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Vt=[];function zt(e){!e._dirty&&(e._dirty=!0)&&1==Vt.push(e)&&Bt(Kt)}function Kt(){for(var e;e=Vt.pop();)e._dirty&&dn(e)}function Yt(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function Jt(e){var t=Ut({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function Gt(e){var t=e.parentNode;t&&t.removeChild(e)}function Zt(e,t,n,r,i){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)Wt(n,null),Wt(r,e);else if("class"!==t||i)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var a in n)a in r||(e.style[a]="");for(var a in r)e.style[a]="number"==typeof r[a]&&!1===$t.test(a)?r[a]+"px":r[a]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var s=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,Xt,s):e.removeEventListener(t,Xt,s),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var o=i&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?o?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(o?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function Xt(e){return this._listeners[e.type](Lt.event&&Lt.event(e)||e)}var en=[],tn=0,nn=!1,rn=!1;function an(){for(var e;e=en.shift();)e.componentDidMount&&e.componentDidMount()}function sn(e,t,n,r,i,a){tn++||(nn=null!=i&&void 0!==i.ownerSVGElement,rn=null!=e&&!("__preactattr_"in e));var s=on(e,t,n,r,a);return i&&s.parentNode!==i&&i.appendChild(s),--tn||(rn=!1,a||an()),s}function on(e,t,n,r,i){var a=e,s=nn;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||i)?e.nodeValue!=t&&(e.nodeValue=t):(a=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),cn(e,!0))),a.__preactattr_=!0,a;var o=t.nodeName;if("function"==typeof o)return function(e,t,n,r){var i=e&&e._component,a=i,s=e,o=i&&e._componentConstructor===t.nodeName,c=o,u=Jt(t);for(;i&&!c&&(i=i._parentComponent);)c=i.constructor===t.nodeName;i&&c&&(!r||i._component)?(pn(i,u,3,n,r),e=i.base):(a&&!o&&(mn(a),e=s=null),i=fn(t.nodeName,u,n),e&&!i.nextBase&&(i.nextBase=e,s=null),pn(i,u,1,n,r),e=i.base,s&&e!==s&&(s._component=null,cn(s,!1)));return e}(e,t,n,r);if(nn="svg"===o||"foreignObject"!==o&&nn,o=String(o),(!e||!Yt(e,o))&&(a=function(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}(o,nn),e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),cn(e,!0)}var c=a.firstChild,u=a.__preactattr_,l=t.children;if(null==u){u=a.__preactattr_={};for(var f=a.attributes,h=f.length;h--;)u[f[h].name]=f[h].value}return!rn&&l&&1===l.length&&"string"==typeof l[0]&&null!=c&&void 0!==c.splitText&&null==c.nextSibling?c.nodeValue!=l[0]&&(c.nodeValue=l[0]):(l&&l.length||null!=c)&&function(e,t,n,r,i){var a,s,o,c,u,l=e.childNodes,f=[],h={},p=0,d=0,m=l.length,g=0,v=t?t.length:0;if(0!==m)for(var y=0;y<m;y++){var b=l[y],R=b.__preactattr_;null!=(w=v&&R?b._component?b._component.__key:R.key:null)?(p++,h[w]=b):(R||(void 0!==b.splitText?!i||b.nodeValue.trim():i))&&(f[g++]=b)}if(0!==v)for(y=0;y<v;y++){var w;if(c=t[y],(u=null)!=(w=c.key))p&&void 0!==h[w]&&(u=h[w],h[w]=void 0,p--);else if(d<g)for(a=d;a<g;a++)if(void 0!==f[a]&&(_=s=f[a],P=i,"string"==typeof(F=c)||"number"==typeof F?void 0!==_.splitText:"string"==typeof F.nodeName?!_._componentConstructor&&Yt(_,F.nodeName):P||_._componentConstructor===F.nodeName)){u=s,f[a]=void 0,a===g-1&&g--,a===d&&d++;break}u=on(u,c,n,r),o=l[y],u&&u!==e&&u!==o&&(null==o?e.appendChild(u):u===o.nextSibling?Gt(o):e.insertBefore(u,o))}var _,F,P;if(p)for(var y in h)void 0!==h[y]&&cn(h[y],!1);for(;d<=g;)void 0!==(u=f[g--])&&cn(u,!1)}(a,l,n,r,rn||null!=u.dangerouslySetInnerHTML),function(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||Zt(e,r,n[r],n[r]=void 0,nn);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||Zt(e,r,n[r],n[r]=t[r],nn)}(a,t.attributes,u),nn=s,a}function cn(e,t){var n=e._component;n?mn(n):(null!=e.__preactattr_&&Wt(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||Gt(e),un(e))}function un(e){for(e=e.lastChild;e;){var t=e.previousSibling;cn(e,!0),e=t}}var ln=[];function fn(e,t,n){var r,i=ln.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),gn.call(r,t,n)):((r=new gn(t,n)).constructor=e,r.render=hn);i--;)if(ln[i].constructor===e)return r.nextBase=ln[i].nextBase,ln.splice(i,1),r;return r}function hn(e,t,n){return this.constructor(e,n)}function pn(e,t,n,r,i){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===Lt.syncComponentUpdates&&e.base?zt(e):dn(e,1,i)),Wt(e.__ref,e))}function dn(e,t,n,r){if(!e._disable){var i,a,s,o=e.props,c=e.state,u=e.context,l=e.prevProps||o,f=e.prevState||c,h=e.prevContext||u,p=e.base,d=e.nextBase,m=p||d,g=e._component,v=!1,y=h;if(e.constructor.getDerivedStateFromProps&&(c=Ut(Ut({},c),e.constructor.getDerivedStateFromProps(o,c)),e.state=c),p&&(e.props=l,e.state=f,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(o,c,u)?v=!0:e.componentWillUpdate&&e.componentWillUpdate(o,c,u),e.props=o,e.state=c,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!v){i=e.render(o,c,u),e.getChildContext&&(u=Ut(Ut({},u),e.getChildContext())),p&&e.getSnapshotBeforeUpdate&&(y=e.getSnapshotBeforeUpdate(l,f));var b,R,w=i&&i.nodeName;if("function"==typeof w){var _=Jt(i);(a=g)&&a.constructor===w&&_.key==a.__key?pn(a,_,1,u,!1):(b=a,e._component=a=fn(w,_,u),a.nextBase=a.nextBase||d,a._parentComponent=e,pn(a,_,0,u,!1),dn(a,1,n,!0)),R=a.base}else s=m,(b=g)&&(s=e._component=null),!m&&1!==t||(s&&(s._component=null),R=sn(s,i,u,n||!p,m&&m.parentNode,!0));if(m&&R!==m&&a!==g){var F=m.parentNode;F&&R!==F&&(F.replaceChild(R,m),b||(m._component=null,cn(m,!1)))}if(b&&mn(b),(e.base=R)&&!r){for(var P=e,x=e;x=x._parentComponent;)(P=x).base=R;R._component=P,R._componentConstructor=P.constructor}}for(!p||n?en.push(e):v||e.componentDidUpdate&&e.componentDidUpdate(l,f,y);e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);tn||r||an()}}function mn(e){var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?mn(n):t&&(null!=t.__preactattr_&&Wt(t.__preactattr_.ref,null),Gt(e.nextBase=t),ln.push(e),un(t)),Wt(e.__ref,null)}function gn(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function vn(e,t,n){return sn(n,e,{},!1,t,!1)}Ut(gn.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=Ut(Ut({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),zt(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),dn(this,2)},render:function(){}});var yn="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),bn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Rn="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",wn={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},_n=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Fn={},Pn=!1;try{Pn=!1}catch(e){}function xn(){return null}var Sn=qt("a",null).constructor;Sn.prototype.$$typeof=bn,Sn.prototype.preactCompatUpgraded=!1,Sn.prototype.preactCompatNormalized=!1,Object.defineProperty(Sn.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty(Sn.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var jn=Lt.event;Lt.event=function(e){return jn&&(e=jn(e)),e.persist=Object,e.nativeEvent=e};var En=Lt.vnode;function Cn(e,t,n){var r=t&&t._preactCompatRendered&&t._preactCompatRendered.base;r&&r.parentNode!==t&&(r=null),!r&&t&&(r=t.firstElementChild);for(var i=t.childNodes.length;i--;)t.childNodes[i]!==r&&t.removeChild(t.childNodes[i]);var a=vn(e,t,r);return t&&(t._preactCompatRendered=a&&(a._component||{base:a})),"function"==typeof n&&n(),a&&a._component||a}Lt.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=null==e.attributes?{}:$n({},e.attributes);"function"==typeof t?(!0===t[Rn]||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||Un(e),function(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&$n(e.attributes,t.defaultProps);n&&$n(e.attributes,n)}(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),function(e,t){var n,r,i;if(t){for(i in t)if(n=_n.test(i))break;if(n)for(i in r=e.attributes={},t)t.hasOwnProperty(i)&&(r[_n.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i])}}(e,n))}En&&En(e)};var On=function(){};function Nn(e,t,n,r){var i=Cn(qt(On,{context:e.context},t),n),a=i._component||i.base;return r&&r.call(a,i),a}function Tn(e){Nn(this,e.vnode,e.container)}function kn(e){var t=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!t||t.parentNode!==e)&&(vn(qt(xn),e,t),!0)}On.prototype.getChildContext=function(){return this.props.context},On.prototype.render=function(e){return e.children[0]};var An,In=[],Hn={map:function(e,t,n){return null==e?null:(e=Hn.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){if(null==e)return null;e=Hn.toArray(e),n&&n!==e&&(t=t.bind(n)),e.forEach(t)},count:function(e){return e&&e.length||0},only:function(e){if(1!==(e=Hn.toArray(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:In.concat(e)}};function Dn(e){return qn.bind(null,e)}for(var Ln={},Qn=yn.length;Qn--;)Ln[yn[Qn]]=Dn(yn[Qn]);function Mn(e){var t=e[Rn];return t?!0===t?e:t:(t=function(e){return Kn({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}(e),Object.defineProperty(t,Rn,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,Rn,{configurable:!0,value:t}),t)}function qn(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function e(t,n){for(var r=n||0;r<t.length;r++){var i=t[r];Array.isArray(i)?e(i):i&&"object"==typeof i&&!Wn(i)&&(i.props&&i.type||i.attributes&&i.nodeName||i.children)&&(t[r]=qn(i.type||i.nodeName,i.props||i.attributes,i.children))}}(e,2),Un(qt.apply(void 0,e))}function Un(e){e.preactCompatNormalized=!0,function(e){var t=e.attributes||(e.attributes={});Bn.enumerable="className"in t,t.className&&(t.class=t.className);Object.defineProperty(t,"className",Bn)}(e),function(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}(e.nodeName)&&(e.nodeName=Mn(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!An||"string"!==n&&"number"!==n||(e.attributes.ref=function(t,n){return n._refProxies[t]||(n._refProxies[t]=function(e){n&&n.refs&&null===(n.refs[t]=e)&&(delete n._refProxies[t],n=null)})}(t,An)),function(e){var t=e.nodeName,n=e.attributes;if(!n||"string"!=typeof t)return;var r={};for(var i in n)r[i.toLowerCase()]=i;r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]);if(r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var a=r.oninput||"oninput";n[a]||(n[a]=Jn([n[a],n[r.onchange]]),delete n[r.onchange])}}(e),e}function Wn(e){return e&&(e instanceof Sn||e.$$typeof===bn)}var Bn={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};function $n(e,t){for(var n=arguments,r=1,i=void 0;r<arguments.length;r++)if(i=n[r])for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);return e}function Vn(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function zn(){}function Kn(e){function t(e,t){!function(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||wn.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}(this),tr.call(this,e,t,Fn),Gn.call(this,e,t)}return(e=$n({constructor:t},e)).mixins&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=Jn(t[n].concat(e[n]||In),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}(e,function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&"function"==typeof r[i]&&(t[i]||(t[i]=[])).push(r[i])}return t}(e.mixins)),e.statics&&$n(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps.call(t)),zn.prototype=tr.prototype,t.prototype=$n(new zn,e),t.displayName=e.displayName||"Component",t}function Yn(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function Jn(a,s){return function(){for(var e,t=arguments,n=0;n<a.length;n++){var r=Yn(this,a[n],t);if(s&&null!=r)for(var i in e||(e={}),r)r.hasOwnProperty(i)&&(e[i]=r[i]);else void 0!==r&&(e=r)}return e}}function Gn(e,t){Zn.call(this,e,t),this.componentWillReceiveProps=Jn([Zn,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=Jn([Zn,Xn,this.render||"render",er])}function Zn(e,t){if(e){var n=e.children;if(n&&Array.isArray(n)&&1===n.length&&("string"==typeof n[0]||"function"==typeof n[0]||n[0]instanceof Sn)&&(e.children=n[0],e.children&&"object"==typeof e.children&&(e.children.length=1,e.children[0]=e.children)),Pn){var r="function"==typeof this?this:this.constructor,i=this.propTypes||r.propTypes,a=this.displayName||r.name;i&&Ht.checkPropTypes(i,e,"prop",a)}}}function Xn(e){An=this}function er(){An===this&&(An=null)}function tr(e,t,n){gn.call(this,e,t),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},n!==Fn&&Gn.call(this,e,t)}function nr(e,t){tr.call(this,e,t)}$n(tr.prototype=new gn,{constructor:tr,isReactComponent:{},replaceState:function(e,t){for(var n in this.setState(e,t),this.state)n in e||delete this.state[n]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),zn.prototype=tr.prototype,(nr.prototype=new zn).isPureReactComponent=!0,nr.prototype.shouldComponentUpdate=function(e,t){return Vn(this.props,e)||Vn(this.state,t)};var rr={version:"15.1.0",DOM:Ln,PropTypes:Ht,Children:Hn,render:Cn,hydrate:Cn,createClass:Kn,createPortal:function(e,t){return qt(Tn,{vnode:e,container:t})},createFactory:Dn,createElement:qn,cloneElement:function(e,t){for(var n=[],r=arguments.length-2;0<r--;)n[r]=arguments[r+2];if(!Wn(e))return e;var i=e.attributes||e.props,a=[qt(e.nodeName||e.type,$n({},i),e.children||i&&i.children),t];return n&&n.length?a.push(n):t&&t.children&&a.push(t.children),Un(function(e,t){return qt(e.nodeName,Ut(Ut({},e.attributes),t),2<arguments.length?[].slice.call(arguments,2):e.children)}.apply(void 0,a))},createRef:function(){return{}},isValidElement:Wn,findDOMNode:function(e){return e&&(e.base||1===e.nodeType&&e)||null},unmountComponentAtNode:kn,Component:tr,PureComponent:nr,unstable_renderSubtreeIntoContainer:Nn,unstable_batchedUpdates:function(e){e()},__spread:$n},ir=Ce({name:"search-box",connector:!0});function ar(o){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:be;return ve(o,ir()),function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=i.queryHook;function s(e){return function(){e.setQuery(""),e.search()}}return{$$type:"ais.searchBox",_clear:function(){},_cachedClear:function(){this._clear()},init:function(e){var t=e.helper,n=e.instantSearchInstance;this._cachedClear=this._cachedClear.bind(this),this._clear=s(t);function r(e){e!==t.state.query&&t.setQuery(e).search()}this._refine=function(e){a?a(e,r):r(e)},o({query:t.state.query||"",refine:this._refine,clear:this._cachedClear,widgetParams:i,instantSearchInstance:n},!0)},render:function(e){var t=e.helper,n=e.instantSearchInstance,r=e.searchMetadata;this._clear=s(t),o({query:t.state.query||"",refine:this._refine,clear:this._cachedClear,widgetParams:i,instantSearchInstance:n,isSearchStalled:r.isSearchStalled},!1)},dispose:function(e){var t=e.state;return n(),t.setQueryParameter("query",void 0)},getWidgetState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:R({},e,{query:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}}var sr=Ce({name:"stats",connector:!0});function or(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:be;return ve(i,sr()),function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{$$type:"ais.stats",init:function(e){var t=e.helper,n=e.instantSearchInstance;i({instantSearchInstance:n,hitsPerPage:t.state.hitsPerPage,nbHits:0,nbPages:0,page:t.state.page||0,processingTimeMS:-1,query:t.state.query||"",widgetParams:r},!0)},render:function(e){var t=e.results,n=e.instantSearchInstance;i({instantSearchInstance:n,hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:r},!1)},dispose:function(){e()}}}}var cr=he(function(e){function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"==r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o;o={}.hasOwnProperty,e.exports?(s.default=s,e.exports=s):window.classNames=s}),ur=function(e){function t(){return y(this,t),P(this,w(t).apply(this,arguments))}return a(t,tr),n(t,[{key:"shouldComponentUpdate",value:function(e){return!_e(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!_e(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e=this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},n=ge({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data});return null===n?null:rr.createElement(e,u({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:n}}))}}]),t}();ur.defaultProps={data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}};var lr=function(e){function i(){var e,s;y(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(F(s=P(this,(e=w(i)).call.apply(e,[this].concat(n)))),"state",{query:s.props.searchAsYouType?"":s.props.query}),b(F(s),"onChange",function(e){var t=s.props,n=t.searchAsYouType,r=t.refine,i=t.onChange,a=e.target.value;n?r(a):s.setState({query:a}),i(e)}),b(F(s),"onSubmit",function(e){var t=s.props,n=t.searchAsYouType,r=t.refine,i=t.onSubmit;return e.preventDefault(),e.stopPropagation(),s.input.blur(),n||r(s.state.query),i(e),!1}),b(F(s),"onReset",function(e){var t=s.props,n=t.searchAsYouType,r=t.refine,i=t.onReset;s.input.focus(),r(""),n||s.setState({query:""}),i(e)}),s}return a(i,tr),n(i,[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"render",value:function(){var t=this,e=this.props,n=e.cssClasses,r=e.placeholder,i=e.autofocus,a=e.showSubmit,s=e.showReset,o=e.showLoadingIndicator,c=e.templates,u=e.isSearchStalled,l=e.searchAsYouType?this.props.query:this.state.query;return rr.createElement("div",{className:n.root},rr.createElement("form",{action:"",role:"search",className:n.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},rr.createElement("input",{ref:function(e){return t.input=e},value:l,disabled:this.props.disabled,className:n.input,type:"search",placeholder:r,autoFocus:i,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,maxLength:512,onChange:this.onChange}),rr.createElement(ur,{templateKey:"submit",rootTagName:"button",rootProps:{className:n.submit,type:"submit",title:"Submit the search query.",hidden:!a},templates:c,data:{cssClasses:n}}),rr.createElement(ur,{templateKey:"reset",rootTagName:"button",rootProps:{className:n.reset,type:"reset",title:"Clear the search query.",hidden:!(s&&l.trim()&&!u)},templates:c,data:{cssClasses:n}}),o&&rr.createElement(ur,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:n.loadingIndicator,hidden:!u},templates:c,data:{cssClasses:n}})))}}]),i}();b(lr,"defaultProps",{query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:be,onSubmit:be,onReset:be,refine:be});function fr(e){var t=e.results,n=e.hits,r=e.cssClasses,i=e.templateProps;return 0===t.hits.length?rr.createElement(ur,u({},i,{templateKey:"empty",rootProps:{className:cr(r.root,r.emptyRoot)},data:t})):rr.createElement("div",{className:r.root},rr.createElement("ol",{className:r.list},n.map(function(e,t){return rr.createElement(ur,u({},i,{templateKey:"item",rootTagName:"li",rootProps:{className:r.item},key:e.objectID,data:R({},e,{__hitIndex:t})}))})))}fr.defaultProps={results:{hits:[]},hits:[]};var hr,pr={empty:"No results",item:function(e){return JSON.stringify(e,null,2)}},dr=Ce({name:"hits"}),mr=gt("Hits"),gr=(hr=fr,function(i){return rr.createElement("div",{onClick:function(e){if(function(e){return e.hasAttribute("data-insights-method")}(e.target)){if(!i.insights)throw new Error("The `insightsClient` option has not been provided to `instantsearch`.");var t=function(e){var t=e.getAttribute("data-insights-method"),n=e.getAttribute("data-insights-payload");if("string"!=typeof n)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:JSON.parse(atob(n))}}catch(e){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(e.target),n=t.method,r=t.payload;i.insights(n,r)}}},rr.createElement(hr,i))});var vr={reset:'\n<svg class="{{cssClasses.resetIcon}}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="10" height="10">\n  <path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"></path>\n</svg>\n  ',submit:'\n<svg class="{{cssClasses.submitIcon}}" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 40 40">\n  <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>\n</svg>\n  ',loadingIndicator:'\n<svg class="{{cssClasses.loadingIcon}}" width="16" height="16" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#444">\n  <g fill="none" fillRule="evenodd">\n    <g transform="translate(1 1)" strokeWidth="2">\n      <circle strokeOpacity=".5" cx="18" cy="18" r="18" />\n      <path d="M36 18c0-9.94-8.06-18-18-18">\n        <animateTransform\n          attributeName="transform"\n          type="rotate"\n          from="0 18 18"\n          to="360 18 18"\n          dur="1s"\n          repeatCount="indefinite"\n        />\n      </path>\n    </g>\n  </g>\n</svg>\n  '},yr=Ce({name:"search-box"}),br=gt("SearchBox");function Rr(e){var t=e.nbHits,n=e.hitsPerPage,r=e.nbPages,i=e.page,a=e.processingTimeMS,s=e.query,o=e.templateProps,c=e.cssClasses;return rr.createElement("div",{className:c.root},rr.createElement(ur,u({},o,{templateKey:"text",rootTagName:"span",rootProps:{className:c.text},data:{hasManyResults:1<t,hasNoResults:0===t,hasOneResult:1===t,hitsPerPage:n,nbHits:t,nbPages:r,page:i,processingTimeMS:a,query:s,cssClasses:c}})))}var wr={text:"{{#hasNoResults}}No results{{/hasNoResults}}\n    {{#hasOneResult}}1 result{{/hasOneResult}}\n    {{#hasManyResults}}{{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}} results{{/hasManyResults}} found in {{processingTimeMS}}ms"},_r=Ce({name:"stats"}),Fr=gt("Stats");function Pr(e){return new _t(e)}return Pr.connectors={connectHits:Pt,connectStats:or,connectSearchBox:ar},Pr.widgets={hits:function(e){var t=e.container,n=e.escapeHTML,r=e.transformItems,i=e.templates,a=void 0===i?pr:i,s=e.cssClasses,o=void 0===s?{}:s;if(!t)throw new Error(dr("The `container` option is required."));Oe(void 0===a.allItems,"The template `allItems` does not exist since InstantSearch.js 3.\n\nYou may want to migrate using `connectHits`: ".concat(Ee({name:"hits",connector:!0}),"."));var c=ce(t),u={root:cr(mr(),o.root),emptyRoot:cr(mr({modifierName:"empty"}),o.emptyRoot),list:cr(mr({descendantName:"list"}),o.list),item:cr(mr({descendantName:"item"}),o.item)},l=function(e){var s=e.renderState,o=e.cssClasses,c=e.containerNode,u=e.templates;return function(e,t){var n=e.hits,r=e.results,i=e.instantSearchInstance,a=e.insights;t?s.templateProps=le({defaultTemplates:pr,templatesConfig:i.templatesConfig,templates:u}):Cn(rr.createElement(gr,{cssClasses:o,hits:n,results:r,templateProps:s.templateProps,insights:a}),c)}}({containerNode:c,cssClasses:u,renderState:{},templates:a});return Et(Pt)(l,function(){return kn(c)})({escapeHTML:n,transformItems:r})},stats:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=e.cssClasses,r=void 0===n?{}:n,i=e.templates,a=void 0===i?wr:i;if(!t)throw new Error(_r("The `container` option is required."));var s=ce(t),o={root:cr(Fr(),r.root),text:cr(Fr({descendantName:"text"}),r.text)};return or(function(e){var u=e.containerNode,l=e.cssClasses,f=e.renderState,h=e.templates;return function(e,t){var n=e.hitsPerPage,r=e.nbHits,i=e.nbPages,a=e.page,s=e.processingTimeMS,o=e.query,c=e.instantSearchInstance;t?f.templateProps=le({defaultTemplates:wr,templatesConfig:c.templatesConfig,templates:h}):Cn(rr.createElement(Rr,{cssClasses:l,hitsPerPage:n,nbHits:r,nbPages:i,page:a,processingTimeMS:s,query:o,templateProps:f.templateProps}),u)}}({containerNode:s,cssClasses:o,renderState:{},templates:a}),function(){return kn(s)})()},searchBox:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=e.placeholder,r=void 0===n?"":n,i=e.cssClasses,a=void 0===i?{}:i,s=e.autofocus,o=void 0!==s&&s,c=e.searchAsYouType,u=void 0===c||c,l=e.showReset,f=void 0===l||l,h=e.showSubmit,p=void 0===h||h,d=e.showLoadingIndicator,m=void 0===d||d,g=e.queryHook,v=e.templates;if(!t)throw new Error(yr("The `container` option is required."));var y=ce(t);if("INPUT"===y.tagName)throw new Error("The `container` option doesn't accept `input` elements since InstantSearch.js 3.\n\nYou may want to migrate using `connectSearchBox`: ".concat(Ee({name:"searchbox",connector:!0}),"."));Oe("boolean"==typeof o,"The `autofocus` option only supports boolean values since InstantSearch.js 3.");var b={root:cr(br(),a.root),form:cr(br({descendantName:"form"}),a.form),input:cr(br({descendantName:"input"}),a.input),submit:cr(br({descendantName:"submit"}),a.submit),submitIcon:cr(br({descendantName:"submitIcon"}),a.submitIcon),reset:cr(br({descendantName:"reset"}),a.reset),resetIcon:cr(br({descendantName:"resetIcon"}),a.resetIcon),loadingIndicator:cr(br({descendantName:"loadingIndicator"}),a.loadingIndicator),loadingIcon:cr(br({descendantName:"loadingIcon"}),a.loadingIcon)};return ar(function(e){var i=e.containerNode,a=e.cssClasses,s=e.placeholder,o=e.templates,c=e.autofocus,u=e.searchAsYouType,l=e.showReset,f=e.showSubmit,h=e.showLoadingIndicator;return function(e){var t=e.refine,n=e.query,r=e.isSearchStalled;Cn(rr.createElement(lr,{query:n,placeholder:s,autofocus:c,refine:t,searchAsYouType:u,templates:o,showSubmit:f,showReset:l,showLoadingIndicator:h,isSearchStalled:r,cssClasses:a}),i)}}({containerNode:y,cssClasses:b,placeholder:r,templates:R({},vr,{},v),autofocus:o,searchAsYouType:u,showReset:f,showSubmit:p,showLoadingIndicator:m}),function(){return kn(y)})({queryHook:g})}},Pr.version=ft,Pr});
//# sourceMappingURL=instantsearch.production.min.js.map
